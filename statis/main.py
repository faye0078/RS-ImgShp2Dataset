import glob
import os
import collections
from my_functions import *
def caculate_all_label_distribution(img_dir):
    all_label_list = glob.glob(os.path.join(img_dir, "*.tif"))
    all_dis = collections.Counter()
    for i, label_path in enumerate(all_label_list):
        all_dis += caculate_distribution(label_path)
        print("finish {}/{}".format(str(i+1), str(len(all_label_list))))
    return all_dis

if __name__ == '__main__':
    jianhe = caculate_all_label_distribution("/media/dell/DATA/wy/data/guiyang/数据集/v2/分类/剑河/label3/")
    xixiu = caculate_all_label_distribution("/media/dell/DATA/wy/data/guiyang/数据集/v2/分类/西秀/label3/")
    all = jianhe+xixiu

    print(all)
    sum = 0
    for index in all:
        sum +=  all[index]
    for index in all:
        all[index] = all[index]/sum
    print('\n')
    print(all)
    
    
# a = {
#     '内陆滩涂': 2721948, "1106" /
#     '水田':    1955143814, "0101"
#     '水浇地': 23006677, "0102"
#     '旱地': 5023859192, "0103"
#     '果园': 880303201, "0201" "0201K"
#     '茶园': 193868098, "0202" "0202K"
#     '其他园地': 156212680, "0204" "0204K"
#     '乔木林地': 11393859009, "0301" "0301K"
#     '竹林地': 67505370, "0302" "0302K"
#     '灌木林地': 5913987322, "0305"
#     '其他林地': 596219288, "0307" "0307K"
#     '天然牧草地': 16483347, "0401"
#     '人工牧草地': 362564, "0403" "0403K"
#     '其他草地': 379145905, "0404"
#     '商业服务业设施用地': 75209604, "05H1"
#     '物流仓储用地': 25062765, "0508"
#     '工业用地': 120204287, "0601"
#     '采矿用地': 89282104, "0602"
#     '城镇住宅用地': 286261040, "0701"
#     '农村宅基地': 648322934, "0702"
#     '机关团体新闻出版用地': 20924656, "08H1"
#     '科教文卫用地': 87546404, "08H2" "08H2A"
#     '公用设施用地': 17704288, "0809"
#     '公园与绿地': 21191799, "0810" "0810A"
#     '铁路用地': 36438785, "1001"
#     '轨道交通用地': 4387323, "1002"
#     '公路用地': 290279835, "1003"
#     '城镇村道路用地': 85321192, "1004"
#     '交通服务场站用地': 19995980, "1005"
#     '农村道路': 312444499, "1006"
#     '机场用地': 197724, "1007"
#     '港口码头用地': 189116, "1008"
#     '管道运输用地': 389375, "1009"
#     '河流水面': 191982229, "1101"
#     '水库水面': 227308047, "1103"
#     '坑塘水面': 40971940, "1104" "1104A"
#     '沟渠': 15727555, "1107" "1107A"
#     '水工建筑用地': 8612531, "1109"
#     '空闲地': 501640, "1201"
#     '设施农用地': 41921189, "1202"
#     '裸土地': 1668335, "1206"
#     '裸岩石砾地': 42489264, "1207"
#     '其他建筑': 33967744 "09"
# }
b = {
    '6': 792413,
    '8': 519982819,
    '9': 4828383,
    '10': 1644546894,
    '11': 248625347,
    '12': 75307404,
    '14': 36759417,
    '15': 3250749091,
    '16': 15381253,
    '17': 1842728551,
    '18': 131875592,
    '19': 7934212,
    '20': 1153,
    '21': 171298478,
    '22': 8116753,
    '23': 2120174,
    '24': 12905163,
    '25': 25827484,
    '26': 21760197,
    '27': 159600451,
    '28': 2265715,
    '29': 14733513,
    '30': 2860560,
    '31': 1176892,
    '32': 6412032,
    '34': 84759457,
    '35': 5014425,
    '36': 2458855,
    '37': 82671356,
    '39': 7685,
    '40': 93284,
    '41': 45697172,
    '43': 21862033,
    '44': 12810173,
    '45': 4517871,
    '46': 3396101,
    '48': 4791,
    '49': 10517683,
    '53': 780045,
    '54': 6274300,
    '55': 3535350,
    '255': 367686609
}

c = {'4': 11461364379,
     '5': 5913987322,
     '1': 5023859192,
     '0': 1978150491,
     '2': 880303201,
     '11': 648322934,
     '6': 596219288,
     '255': 558489313,
     '14': 435017831,
     '16': 413338656,
     '7': 395991816,
     '13': 312444499, 
     '12': 290279835, 
     '10': 286261040, 
     '9': 226447717, 
     '8': 209486391, 
     '3': 193868098, 
     '15': 86580428}